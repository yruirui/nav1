const hashmap=[
    {logo:'m',logoType:'text',url:'https://music.163.com/'},
    {logo:'B',logoType:'text',url:'https://bilibili.com/'}
]

let $siteList=$('.siteList')
let $last=$siteList.find('li.last')
const render=()=>{
    $siteList.find('li:not(.last)').remove()
   hashmap.forEach(node=>{
    const $li=$(`
    <li><a href="${node.url}">
        <div class="site">
            <div class="logo">${node.logo[0]}</div>
            <div class="link">${node.url}</div>
        </div>
        </a>
   </li>`).insertBefore($last)
})
}
render()
$('.add').on('click',()=>{
   let url= window.prompt('请输入要添加的网址')
   if(url.indexOf('http')!==0){
        url='https://'+url
   }
   hashmap.push({
    logo: url[0],
    logoType:'text',
    url: url
   });
  //$siteList.find('li:no(.last)').remove()
  render()
})
window.onbeforeunload = ()=> {
    console.log('页面要关闭了')
    const string =JSON.stringify(hashmap)
    localStorage.setItem('x',string)
  };